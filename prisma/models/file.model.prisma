model File {
  id              String      @id @default(uuid()) @db.Uuid
  originalName     String      @map("original_name") @db.VarChar(255)
  fileName         String      @map("file_name") @db.VarChar(255)
  mimeType         String      @map("mime_type") @db.VarChar(100)
  size             BigInt      @db.BigInt
  path             String      @db.VarChar(500)
  url              String      @db.VarChar(500)
  type             FileType    // AVATAR, DOCUMENT, IMAGE, VIDEO, AUDIO, ARCHIVE, OTHER
  status           FileStatus  // ACTIVE, PROCESSING, FAILED, DELETED
  entityType       String?     @map("entity_type") @db.VarChar(50) // user, account, customer, etc. (đổi từ ownerType)
  entityId         String?     @map("entity_id") @db.Uuid // ID của entity sở hữu file
  extension        String      @db.VarChar(10) // File extension (jpg, pdf, etc.)
  storageProvider  String      @map("storage_provider") @db.VarChar(20) // s3, gcs, azure, local, minio, etc.
  metadata         Json?       @db.Json
  createdAt        DateTime    @default(now()) @map("created_at") @db.Timestamptz(6)
  updatedAt        DateTime    @updatedAt @map("updated_at") @db.Timestamptz(6)
  deletedAt        DateTime?   @map("deleted_at") @db.Timestamptz(6)
  createdBy        String?     @map("created_by") @db.Uuid
  updatedBy        String?     @map("updated_by") @db.Uuid
  deletedBy        String?     @map("deleted_by") @db.Uuid

  @@index([entityType, entityId])
  @@index([type])
  @@index([status])
  @@index([storageProvider])
  @@index([extension])
  @@index([createdAt])
  @@map("files")
}
